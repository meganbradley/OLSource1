---
title: Getting Started with Always On Availability Groups (SQL Server)
ms.custom: 
  - SQL2016_New_Updated
ms.date: 07/04/2016
ms.prod: sql-server-2016
ms.reviewer: na
ms.suite: na
ms.technology: 
  - dbe-high-availability
ms.tgt_pltfrm: na
ms.topic: get-started-article
ms.assetid: 33f2f2d0-79e0-4107-9902-d67019b826aa
manager: jhubbard
---
# Getting Started with Always On Availability Groups (SQL Server)
This topic introduces the steps for configuring instances of [!INCLUDE[ssCurrent](../../Topics/TopicNameContainA/includes/ssCurrent_md.md)] to support [!INCLUDE[ssHADR](../../Topics/TopicNameContainA/includes/ssHADR_md.md)] and for creating, managing, and monitoring an availability group.  
  
-   **Before You Begin:**  
  
     [Recommended Reading](#RecommendedReading)  
  
-   **Getting started with:**  
  
     [Configuring an instance of SQL Server to support Always On Availability Groups](#ConfigSI)  
  
     [Creating and configuring a new availability group](#ConfigAG)  
  
     [Managing availability groups, replicas, and databases](#ManageAGsEtc)  
  
     [Monitoring availability groups](#MonitorAGsEtc)  
  
-   [Related Content](#RelatedContent)  
  
##  <a name="BeforeYouBegin"></a> Before You Begin  
  
###  <a name="RecommendedReading"></a> Recommended Reading  
 Before you create your first availability group, we recommend that you read the following topics:  
  
-   [Overview of Always On Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Overview-of-Always-On-Availability-Groups--SQL-Server-.md)  
  
-   [Prerequisites, Restrictions, and Recommendations for Always On Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Prerequisites--Restrictions--and-Recommendations-for-Always-On-Availability-Groups--SQL-Server-.md)  
  
##  <a name="ConfigSI"></a> Configuring an Instance of SQL Server to Support Always On Availability Groups  
  
||Step|Links|  
|------|----------|-----------|  
|![Checkbox](../../Topics/TopicNameNotContainA/media/CheckboxEmptyCenterXtraSpaceTopAndRight.gif "CheckboxEmptyCenterXtraSpaceTopAndRight")|**Enable [!INCLUDE[ssHADR](../../Topics/TopicNameContainA/includes/ssHADR_md.md)].** The [!INCLUDE[ssHADR](../../Topics/TopicNameContainA/includes/ssHADR_md.md)] feature must be enabled on every instance of [!INCLUDE[ssCurrent](../../Topics/TopicNameContainA/includes/ssCurrent_md.md)] that is to participate in an availability group.<br /><br /> **Prerequisites:**  The host computer must be a Windows Server Failover Clustering (WSFC) node.<br /><br /> For information about the other prerequisites, see "SQL Server Instance Prerequisites and Restrictions" in [Prerequisites, Restrictions, and Recommendations for Always On Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Prerequisites--Restrictions--and-Recommendations-for-Always-On-Availability-Groups--SQL-Server-.md).|[Enable and disable Always On Availability Groups](../../Topics/TopicNameNotContainA/Enable-and-Disable-Always-On-Availability-Groups--SQL-Server-.md)|  
|![Checkbox](../../Topics/TopicNameNotContainA/media/CheckboxEmptyCenterXtraSpaceTopAndRight.gif "CheckboxEmptyCenterXtraSpaceTopAndRight")|**Create database mirroring endpoint (if none).** Ensure that each server instance possesses a [database mirroring endpoint](../../Topics/TopicNameNotContainA/The-Database-Mirroring-Endpoint--SQL-Server-.md). The server instance uses this endpoint to receive [!INCLUDE[ssHADR](../../Topics/TopicNameContainA/includes/ssHADR_md.md)] connections from other server instances.|To determine whether database mirroring endpoint exists: <br />                    [sys.database_mirroring_endpoints](assetId:///f2285199-97ad-473c-a52d-270044dd862b)<br /><br /> **For Windows Authentication**.  To create a database mirroring endpoint, using:<br /><br /> [New Availability Group Wizard](../../Topics/TopicNameNotContainA/Use-the-Availability-Group-Wizard--SQL-Server-Management-Studio-.md)<br /><br /> [Transact-SQL](../../Topics/TopicNameContainA/Create-a-Database-Mirroring-Endpoint-for-Windows-Authentication--Transact-SQL-.md)<br /><br /> [SQL Server PowerShell](../../Topics/TopicNameContainA/Create-a-Database-Mirroring-Endpoint-for-Always-On-Availability-Groups--SQL-Server-PowerShell-.md)<br /><br /> **For certificate authentication**. To create a database mirroring endpoint, using:[Transact-SQL](../../Topics/TopicNameContainA/Use-Certificates-for-a-Database-Mirroring-Endpoint--Transact-SQL-.md)|  
  
##  <a name="ConfigAG"></a> Creating and Configuring a New Availability Group  
  
||Step|Links|  
|------|----------|-----------|  
|![Checkbox](../../Topics/TopicNameNotContainA/media/CheckboxEmptyCenterXtraSpaceTopAndRight.gif "CheckboxEmptyCenterXtraSpaceTopAndRight")|**Create the availability group.** Create the availability group on the instance of [!INCLUDE[ssNoVersion](../../Topics/TopicNameContainA/includes/ssNoVersion_md.md)] that hosts the databases to be added to the availability group.<br /><br /> Minimally, create the initial primary replica on the instance of [!INCLUDE[ssNoVersion](../../Topics/TopicNameContainA/includes/ssNoVersion_md.md)] where you create the availability group. You can specify from one to four secondary replicas. For information about availability group and replica properties, see [CREATE AVAILABILITY GROUP (Transact-SQL)](assetId:///a3d55df7-b4e4-43f3-a14b-056cba36ab98).<br /><br /> We strongly recommend that you create an [availability group listener](../../Topics/TopicNameNotContainA/Availability-Group-Listeners--Client-Connectivity--and-Application-Failover--SQL-Server-.md).<br /><br /> **Prerequisites:**  The instances of [!INCLUDE[ssNoVersion](../../Topics/TopicNameContainA/includes/ssNoVersion_md.md)] that host availability replicas for a given availability group must reside on separate nodes of a single WSFC cluster. The only exception is that while being migrated to another WSFC cluster, an availability group can temporarily straddle two clusters.<br /><br /> For information about the other prerequisites, see "Availability Group Prerequisites and Restrictions", "Availability Database Prerequisites and Restrictions", and "SQL Server Instance Prerequisites and Restrictions" in [Prerequisites, Restrictions, and Recommendations for Always On Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Prerequisites--Restrictions--and-Recommendations-for-Always-On-Availability-Groups--SQL-Server-.md).|To create an availability group you can use any of the following tools:<br /><br /> [New Availability Group Wizard](../../Topics/TopicNameNotContainA/Use-the-Availability-Group-Wizard--SQL-Server-Management-Studio-.md)<br /><br /> [Transact-SQL](../../Topics/TopicNameNotContainA/Create-an-Availability-Group--Transact-SQL-.md)<br /><br /> [SQL Server PowerShell](../../Topics/TopicNameNotContainA/Create-an-Availability-Group--Transact-SQL-.md)|  
|![Checkbox](../../Topics/TopicNameNotContainA/media/CheckboxEmptyCenterXtraSpaceTopAndRight.gif "CheckboxEmptyCenterXtraSpaceTopAndRight")|**Join secondary replicas to the availability group.** Connect to each instance of [!INCLUDE[ssCurrent](../../Topics/TopicNameContainA/includes/ssCurrent_md.md)] that is hosting a secondary replica, and join the local secondary replica to the availability group.|[Join a secondary replica to an availability group](../../Topics/TopicNameContainA/Join-a-Secondary-Replica-to-an-Availability-Group--SQL-Server-.md)<br /><br /> Tip: If you use the New Availability Group Wizard, this step is automated.|  
|![Checkbox](../../Topics/TopicNameNotContainA/media/CheckboxEmptyCenterXtraSpaceTopAndRight.gif "CheckboxEmptyCenterXtraSpaceTopAndRight")|**Prepare secondary databases.** On every server instance that is hosting a secondary replica, restore backups of the primary databases using RESTORE WITH NORECOVERY.|[Manually prepare a secondary database](../../Topics/TopicNameContainA/Manually-Prepare-a-Secondary-Database-for-an-Availability-Group--SQL-Server-.md)<br /><br /> Tip: The New Availability Group Wizard can prepare the secondary databases for you. For more information, see "Prerequisites for using full initial data synchronization" in [Select Initial Data Synchronization Page (Always On Availability Group Wizards)](../../Topics/TopicNameNotContainA/Select-Initial-Data-Synchronization-Page--Always-On-Availability-Group-Wizards-.md).|  
|![Checkbox](../../Topics/TopicNameNotContainA/media/CheckboxEmptyCenterXtraSpaceTopAndRight.gif "CheckboxEmptyCenterXtraSpaceTopAndRight")|**Join secondary databases to the availability group.** On every server instance that is hosting a secondary replica, join each local secondary database to the availability group. On joining the availability group, a given secondary database initiates data synchronization with the corresponding primary database.|[Join a secondary database to an availability group](../../Topics/TopicNameContainA/Join-a-Secondary-Database-to-an-Availability-Group--SQL-Server-.md)<br /><br /> Tip: The New Availability Group Wizard can perform this step if every secondary database exists on every secondary replica.|  
||**Create an availability group listener.**  This step is necessary unless you already created the availability group listener while creating the availability group.|[Create or Configure an Availability Group Listener (SQL Server)](../../Topics/TopicNameNotContainA/Create-or-Configure-an-Availability-Group-Listener--SQL-Server-.md)|  
|![Checkbox](../../Topics/TopicNameNotContainA/media/CheckboxEmptyCenterXtraSpaceTopAndRight.gif "CheckboxEmptyCenterXtraSpaceTopAndRight")|**Give the listener's DNS host name to application developers.**  Developers needs to specify this DNS name in the connection strings to direct connection requests to the availability group listener. For more information, see [Availability Group Listeners, Client Connectivity, and Application Failover (SQL Server)](../../Topics/TopicNameNotContainA/Availability-Group-Listeners--Client-Connectivity--and-Application-Failover--SQL-Server-.md).|"Follow Up: After Creating an Availability Group Listener" in [Create or Configure an Availability Group Listener (SQL Server)](../../Topics/TopicNameNotContainA/Create-or-Configure-an-Availability-Group-Listener--SQL-Server-.md)|  
|![Checkbox](../../Topics/TopicNameNotContainA/media/CheckboxEmptyCenterXtraSpaceTopAndRight.gif "CheckboxEmptyCenterXtraSpaceTopAndRight")|**Configure Where Backup Jobs.**  If you want to perform backups on secondary databases, you must create a backup job script that takes the automated backup preference into account. Create a script for each database in the availability group on every server instance that hosts an availability replica for the availability group.|"Follow Up: After Configuring Backup on Secondary Replicas" in [Configure Backup on Availability Replicas (SQL Server)](../../Topics/TopicNameNotContainA/Configure-Backup-on-Availability-Replicas--SQL-Server-.md)|  
  
##  <a name="ManageAGsEtc"></a> Managing Availability Groups, Replicas, and Databases  
  
> [!NOTE]  
>  For information about availability group and replica properties, see [CREATE AVAILABILITY GROUP (Transact-SQL)](assetId:///a3d55df7-b4e4-43f3-a14b-056cba36ab98).  
  
 Managing existing availability groups involves one or more of the following tasks:  
  
|Task|Link|  
|----------|----------|  
|Modify the [flexible failover policy](../../Topics/TopicNameNotContainA/Flexible-Failover-Policy-for-Automatic-Failover-of-an-Availability-Group--SQL-Server-.md) of the availability group to control the conditions that cause an automatic failover. This policy is relevant only when automatic failover is possible.|[Configure the flexible failover policy of an availability group](../../Topics/TopicNameNotContainA/Configure-the-Flexible-Failover-Policy-to-Control-Conditions-for-Automatic-Failover--Always-On-Availability-Groups-.md)|  
|Perform a planned manual failover or a forced manual failover (with possible data loss), typically called *forced failover*. For more information, see [Failover and Failover Modes (Always On Availability Groups)](../../Topics/TopicNameNotContainA/Failover-and-Failover-Modes--Always-On-Availability-Groups-.md).|[Perform a planned manual failover](../../Topics/TopicNameContainA/Perform-a-Planned-Manual-Failover-of-an-Availability-Group--SQL-Server-.md)<br /><br /> [Perform a forced manual failover](../../Topics/TopicNameContainA/Perform-a-Forced-Manual-Failover-of-an-Availability-Group--SQL-Server-.md)|  
|Use a set of predefined policies to view the health of an availability group and its replicas and databases.|[Use policy-based management to view the health of availability groups](../../Topics/TopicNameNotContainA/Use-Always-On-Policies-to-View-the-Health-of-an-Availability-Group--SQL-Server-.md)<br /><br /> [Use the Always On Group Dashboard](../../Topics/TopicNameNotContainA/Use-the-Always-On-Dashboard--SQL-Server-Management-Studio-.md)|  
|Add or remove a secondary replica.|[Add a secondary replica](../../Topics/TopicNameContainA/Add-a-Secondary-Replica-to-an-Availability-Group--SQL-Server-.md)<br /><br /> [Remove a secondary replica](../../Topics/TopicNameContainA/Remove-a-Secondary-Replica-from-an-Availability-Group--SQL-Server-.md)|  
|Suspend or resume an availability database. Suspending a secondary database keeps at its current point in time until you resume it.|[Suspend a database](../../Topics/TopicNameNotContainA/Suspend-an-Availability-Database--SQL-Server-.md)<br /><br /> [Resume a database](../../Topics/TopicNameNotContainA/Resume-an-Availability-Database--SQL-Server-.md)|  
|Add or remove a database.|[Add a database](../../Topics/TopicNameContainA/Add-a-Database-to-an-Availability-Group--SQL-Server-.md)<br /><br /> [Remove a secondary database](../../Topics/TopicNameContainA/Remove-a-Secondary-Database-from-an-Availability-Group--SQL-Server-.md)<br /><br /> [Remove a primary database](../../Topics/TopicNameContainA/Remove-a-Primary-Database-from-an-Availability-Group--SQL-Server-.md)|  
|Reconfigure or create an availability group listener.|[Create or configure an availability group listener](../../Topics/TopicNameNotContainA/Create-or-Configure-an-Availability-Group-Listener--SQL-Server-.md)|  
|Delete an availability group.|[Delete an availability group](../../Topics/TopicNameNotContainA/Remove-an-Availability-Group--SQL-Server-.md)|  
|Troubleshoot add file operations. This might be required if the primary database and a secondary database have different file paths.|[Troubleshoot a failed add-file operation](../../Topics/TopicNameContainA/Troubleshoot-a-Failed-Add-File-Operation--Always-On-Availability-Groups-.md)|  
|Alter availability replica properties.|[Change the Availability Mode](../../Topics/TopicNameNotContainA/Change-the-Availability-Mode-of-an-Availability-Replica--SQL-Server-.md)<br /><br /> [Change the Failover Mode](../../Topics/TopicNameNotContainA/Change-the-Failover-Mode-of-an-Availability-Replica--SQL-Server-.md)<br /><br /> [Configure Backup Priority (and Automated Backup Preference)](../../Topics/TopicNameNotContainA/Configure-Backup-on-Availability-Replicas--SQL-Server-.md)<br /><br /> [Configure Read-Only Access](../../Topics/TopicNameNotContainA/Configure-Read-Only-Access-on-an-Availability-Replica--SQL-Server-.md)<br /><br /> [Configure Read-Only Routing](../../Topics/TopicNameNotContainA/Configure-Read-Only-Routing-for-an-Availability-Group--SQL-Server-.md)<br /><br /> [Change the Session-Timeout Period](../../Topics/TopicNameNotContainA/Change-the-Session-Timeout-Period-for-an-Availability-Replica--SQL-Server-.md)|  
  
##  <a name="MonitorAGsEtc"></a> Monitoring Availability Groups  
 To monitor the properties and state of an Always On availability group you can use the following tools.  
  
|Tool|Brief Description|Links|  
|----------|-----------------------|-----------|  
|System Center Monitoring pack for SQL Server|The Monitoring pack for SQL Server (SQLMP) is the recommended solution for monitoring availability groups, availability replica and availability databases for IT administrators. Monitoring features that are particularly relevance to [!INCLUDE[ssHADR](../../Topics/TopicNameContainA/includes/ssHADR_md.md)] include the following:<br /><br /> Automatic discoverability of availability groups, availability replicas, and availability database from among hundreds of computers. This enables you to easily keep track of your [!INCLUDE[ssHADR](../../Topics/TopicNameContainA/includes/ssHADR_md.md)] inventory.<br /><br /> Fully capable System Center Operations Manager (SCOM) alerting and ticketing. These features provide detailed knowledge that enables faster resolution to a problem.<br /><br /> A custom extension to Always On Health monitoring using Policy Based management (PBM).<br /><br /> Health roll ups from availability databases to availability replicas.<br /><br /> Custom tasks that manage [!INCLUDE[ssHADR](../../Topics/TopicNameContainA/includes/ssHADR_md.md)] from the System Center Operations Manager console.|To download the monitoring pack (SQLServerMP.msi) and *SQL Server Management Pack Guide for System Center Operations Manager* (SQLServerMPGuide.doc), see:<br /><br /> [System Center Monitoring pack for SQL Server](http://www.microsoft.com/download/details.aspx?displaylang=en&id=10631)|  
|[!INCLUDE[tsql](../../Topics/TopicNameContainA/includes/tsql_md.md)]|[!INCLUDE[ssHADR](../../Topics/TopicNameContainA/includes/ssHADR_md.md)] catalog and dynamic management views provide a wealth of information about your availability groups and their replicas, databases, listeners, and WSFC cluster environment.|[Monitor Availability Groups (Transact-SQL)](../../Topics/TopicNameNotContainA/Monitor-Availability-Groups--Transact-SQL-.md)|  
|[!INCLUDE[ssManStudioFull](../../Topics/TopicNameContainA/includes/ssManStudioFull_md.md)]|The **Object Explorer Details** pane displays basic information about the availability groups hosted on the instance of [!INCLUDE[ssNoVersion](../../Topics/TopicNameContainA/includes/ssNoVersion_md.md)] to which you are connected.<br /><br /> Tip: Use this pane to select multiple availability groups, replicas, or databases and to perform routine administrative tasks on the selected objects; for example, removing multiple availability replicas or databases from an availability group.|[Use Object Explorer Details to monitor availability groups](../../Topics/TopicNameNotContainA/Use-the-Object-Explorer-Details-to-Monitor-Availability-Groups--SQL-Server-Management-Studio-.md)|  
|[!INCLUDE[ssManStudioFull](../../Topics/TopicNameContainA/includes/ssManStudioFull_md.md)]|**Properties** dialog boxes enable you to view the properties of availability groups, replicas, or listeners and, in some cases, to change their values.|[Availability Group Properties](../../Topics/TopicNameNotContainA/View-Availability-Group-Properties--SQL-Server-.md)<br /><br /> [Availability Replica Properties](../../Topics/TopicNameNotContainA/View-Availability-Replica-Properties--SQL-Server-.md)<br /><br /> [Availability Group Listener Properties](../../Topics/TopicNameNotContainA/View-Availability-Group-Listener-Properties--SQL-Server-.md)|  
|System Monitor|The **SQLServer:Availability Replica** performance object contains performance counters that report information about availability replicas.|[SQL Server, Availability Replica](../../Topics/TopicNameNotContainA/SQL-Server--Availability-Replica.md)|  
|System Monitor|The **SQLServer:Database Replica** performance object contains performance counters that report information about the secondary databases on a given secondary replica.<br /><br /> The **SQLServer:Databases** object in SQL Server contains performance counters that monitor transaction log activities, among other things. The following counters are particularly relevant for monitoring transaction-log activity on availability databases: **Log Flush Write Time (ms)**, **Log Flushes/sec**, **Log Pool Cache Misses/sec**, **Log Pool Disk Reads/sec**, and **Log Pool Requests/sec**.|[SQL Server, Database Replica](../../Topics/TopicNameNotContainA/SQL-Server--Database-Replica.md)<br /><br /> [SQL Server, Databases Object](../../Topics/TopicNameNotContainA/SQL-Server--Databases-Object.md)|  
  
##  <a name="RelatedContent"></a> Related Content  
  
-   **Video—Introduction to Always On:**  [Microsoft SQL Server Code-Named "Denali" Always On Series,Part 1: Introducing the Next Generation High Availability Solution](http://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI302)  
  
-   **Video—A Deep Dive into Always On:**  [Microsoft SQL Server Code-Named "Denali" Always On Series,Part 2: Building a Mission-Critical High Availability Solution Using Always On](http://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI404)  
  
-   **Whitepaper:**  [Microsoft SQL Server Always On Solutions Guide for High Availability and Disaster Recovery](http://go.microsoft.com/fwlink/?LinkId=227600)  
  
-   **Blogs:**  [SQL Server Always On Team Blog: The official SQL Server Always On Team Blog](http://blogs.msdn.com/b/sqlAlways%20On/)  
  
## See Also  
 [Always On Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Always-On-Availability-Groups--SQL-Server-.md)   
 [Overview of Always On Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Overview-of-Always-On-Availability-Groups--SQL-Server-.md)   
 [Configuration of a Server Instance for Always On Availability Groups (SQL Server)](../../Topics/TopicNameContainA/Configuration-of-a-Server-Instance-for-Always-On-Availability-Groups--SQL-Server-.md)   
 [Creation and Configuration of Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Creation-and-Configuration-of-Availability-Groups--SQL-Server-.md)   
 [Monitoring of Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Monitoring-of-Availability-Groups--SQL-Server-.md)   
 [Overview of Transact-SQL Statements for Always On Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Overview-of-Transact-SQL-Statements-for-Always-On-Availability-Groups--SQL-Server-.md)   
 [Overview of PowerShell Cmdlets for Always On Availability Groups (SQL Server)](../../Topics/TopicNameNotContainA/Overview-of-PowerShell-Cmdlets-for-Always-On-Availability-Groups--SQL-Server-.md)