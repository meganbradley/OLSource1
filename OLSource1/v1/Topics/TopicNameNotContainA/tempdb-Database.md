---
title: tempdb Database
ms.custom: na
ms.prod: sql-server-2016
ms.reviewer: na
ms.suite: na
ms.technology: 
  - database-engine
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: ce4053fb-e37a-4851-b711-8e504059a780
---
# tempdb Database
  The **tempdb** system database is a global resource that is available to all users connected to the instance of [!INCLUDE[ssNoVersion](../../Token\Other/ssNoVersion_md.md)] and is used to hold the following:  
  
-   Temporary user objects that are explicitly created, such as: global or local temporary tables, temporary stored procedures, table variables, or cursors.  
  
-   Internal objects that are created by the [!INCLUDE[ssDEnoversion](../../Token\Other/ssDEnoversion_md.md)], for example, work tables to store intermediate results for spools or sorting.  
  
-   Row versions that are generated by data modification transactions in a database that uses read\-committed using row versioning isolation or snapshot isolation transactions.  
  
-   Row versions that are generated by data modification transactions for features, such as: online index operations, Multiple Active Result Sets \(MARS\), and AFTER triggers.  
  
 Operations within **tempdb** are minimally logged. This enables transactions to be rolled back. **tempdb** is re\-created every time [!INCLUDE[ssNoVersion](../../Token\Other/ssNoVersion_md.md)] is started so that the system always starts with a clean copy of the database. Temporary tables and stored procedures are dropped automatically on disconnect, and no connections are active when the system is shut down. Therefore, there is never anything in **tempdb** to be saved from one session of [!INCLUDE[ssNoVersion](../../Token\Other/ssNoVersion_md.md)] to another. Backup and restore operations are not allowed on **tempdb**.  
  
## Physical Properties of tempdb  
 The following table lists the initial configuration values of the **tempdb** data and log files. The sizes of these files may vary slightly for different editions of [!INCLUDE[ssNoVersion](../../Token\Other/ssNoVersion_md.md)].  
  
|File|Logical name|Physical name|Initial size|File growth|  
|----------|------------------|-------------------|------------------|-----------------|  
|Primary data|tempdev|tempdb.mdf|8 megabytes|Autogrow by 64 MB until the disk is full|  
|Secondary data files\*|temp\#|tempdb\_mssql\_\#.ndf|8 megabytes|Autogrow by 64 MB until the disk is full|  
|Log|templog|templog.ldf|8 megabytes|Autogrow by 64 megabytes to a maximum of 2 terabytes|  
  
 \* The number of files depends on the number of \(logical\) cores on the machine. The value will be the number of cores or 8, whichever is lower.   
The default value for the number of data files is based on the general guidelines in [KB 2154845](https://support.microsoft.com/en-us/kb/2154845/).  
  
## Performance Improvements in tempdb  
 In [!INCLUDE[ssNoVersion](../../Token\Other/ssNoVersion_md.md)], **tempdb** performance is improved in the following ways:  
  
-   Temporary tables and table variables may be cached. Caching allows operations that drop and create the temporary objects to execute very quickly and reduces page allocation contention.  
  
-   Allocation page latching protocol is improved. This reduces the number of UP \(update\) latches that are used.  
  
-   Logging overhead for **tempdb** is reduced. This reduces disk I\/O bandwidth consumption on the **tempdb** log file.  
  
-   Setup adds multiple tempdb data files during a new instance installation. This task can be accomplished with the new UI input control on the **Database Engine Configuration** section and a command line parameter \/SQLTEMPDBFILECOUNT. By default, setup will add as many tempdb files as the CPU count or 8, whichever is lower.  
  
-   When there are multiple **tempdb** data files, all files will autogrow at same time and by the same amount depending on growth settings.  Trace flag 1117 is no longer required.  
  
-   All allocations in **tempdb** use uniform extents. Trace flag 1118 is no longer required.  
  
-   For the primary filegroup, the AUTOGROW\_ALL\_FILES property is turned on and the property cannot be modified.  
  
### Moving the tempdb Data and Log Files  
 To move the **tempdb** data and log files, see [Move System Databases](../../Topics\TopicNameNotContainA/Move-System-Databases.md).  
  
### Database Options  
 The following table lists the default value for each database option in the **tempdb** database and whether the option can be modified. To view the current settings for these options, use the [sys.databases](../Topic/sys.databases%20\(Transact-SQL\).md) catalog view.  
  
|Database option|Default value|Can be modified|  
|---------------------|-------------------|---------------------|  
|ALLOW\_SNAPSHOT\_ISOLATION|OFF|Yes|  
|ANSI\_NULL\_DEFAULT|OFF|Yes|  
|ANSI\_NULLS|OFF|Yes|  
|ANSI\_PADDING|OFF|Yes|  
|ANSI\_WARNINGS|OFF|Yes|  
|ARITHABORT|OFF|Yes|  
|AUTO\_CLOSE|OFF|No|  
|AUTO\_CREATE\_STATISTICS|ON|Yes|  
|AUTO\_SHRINK|OFF|No|  
|AUTO\_UPDATE\_STATISTICS|ON|Yes|  
|AUTO\_UPDATE\_STATISTICS\_ASYNC|OFF|Yes|  
|CHANGE\_TRACKING|OFF|No|  
|CONCAT\_NULL\_YIELDS\_NULL|OFF|Yes|  
|CURSOR\_CLOSE\_ON\_COMMIT|OFF|Yes|  
|CURSOR\_DEFAULT|GLOBAL|Yes|  
|Database Availability Options|ONLINE<br /><br /> MULTI\_USER<br /><br /> READ\_WRITE|No<br /><br /> No<br /><br /> No|  
|DATE\_CORRELATION\_OPTIMIZATION|OFF|Yes|  
|DB\_CHAINING|ON|No|  
|ENCRYPTION|OFF|No|  
|MIXED\_PAGE\_ALLOCATION|OFF|No|  
|NUMERIC\_ROUNDABORT|OFF|Yes|  
|PAGE\_VERIFY|CHECKSUM for new installations of [!INCLUDE[ssNoVersion](../../Token\Other/ssNoVersion_md.md)].<br /><br /> NONE for upgrades of [!INCLUDE[ssNoVersion](../../Token\Other/ssNoVersion_md.md)].|Yes|  
|PARAMETERIZATION|SIMPLE|Yes|  
|QUOTED\_IDENTIFIER|OFF|Yes|  
|READ\_COMMITTED\_SNAPSHOT|OFF|No|  
|RECOVERY|SIMPLE|No|  
|RECURSIVE\_TRIGGERS|OFF|Yes|  
|Service Broker Options|ENABLE\_BROKER|Yes|  
|TRUSTWORTHY|OFF|No|  
  
 For a description of these database options, see [ALTER DATABASE SET Options &#40;Transact-SQL&#41;](../Topic/ALTER%20DATABASE%20SET%20Options%20\(Transact-SQL\).md).  
  
## Restrictions  
 The following operations cannot be performed on the **tempdb** database:  
  
-   Adding filegroups.  
  
-   Backing up or restoring the database.  
  
-   Changing collation. The default collation is the server collation.  
  
-   Changing the database owner. **tempdb** is owned by **sa**.  
  
-   Creating a database snapshot.  
  
-   Dropping the database.  
  
-   Dropping the **guest** user from the database.  
  
-   Enabling change data capture.  
  
-   Participating in database mirroring.  
  
-   Removing the primary filegroup, primary data file, or log file.  
  
-   Renaming the database or primary filegroup.  
  
-   Running DBCC CHECKALLOC.  
  
-   Running DBCC CHECKCATALOG.  
  
-   Setting the database to OFFLINE.  
  
-   Setting the database or primary filegroup to READ\_ONLY.  
  
## Permissions  
 Any user can create temporary objects in tempdb. Users can only access their own objects, unless they receive additional permissions. It is possible to revoke the connect permission to tempdb to prevent a user from using tempdb, but this is not recommended as some routine operations require the use of tempdb.  
  
## Related Content  
 [SORT_IN_TEMPDB Option For Indexes](../../Topics\TopicNameNotContainA/SORT_IN_TEMPDB-Option-For-Indexes.md)  
  
 [System Databases](../../Topics\TopicNameNotContainA/System-Databases.md)  
  
 [sys.databases &#40;Transact-SQL&#41;](../Topic/sys.databases%20\(Transact-SQL\).md)  
  
 [sys.master_files &#40;Transact-SQL&#41;](../Topic/sys.master_files%20\(Transact-SQL\).md)  
  
 [Move Database Files](../../Topics\TopicNameNotContainA/Move-Database-Files.md)  
  
## See Also  
 [Working with tempdb in SQL Server 2005](http://go.microsoft.com/fwlink/?LinkId=81216)  
  
  