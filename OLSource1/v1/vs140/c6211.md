---
title: "C6211"
ms.custom: na
ms.date: "09/22/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: na
ms.topic: "article"
f1_keywords: 
  - "C6211"
helpviewer_keywords: 
  - "C6211"
ms.assetid: 9b68243b-534c-4a05-b789-bb155dfcba1e
caps.latest.revision: 28
translation.priority.ht: 
  - "de-de"
  - "ja-jp"
---
# C6211
warning C6211: Leaking memory \<pointer> due to an exception. Consider using a local catch block to clean up memory  
  
 This warning indicates that allocated memory is not being freed when an exception is thrown. The statement at the end of the path could throw an exception. The analyzer checks for this condition only when the <CodeContentPlaceHolder>3\</CodeContentPlaceHolder> SAL annotation is specified. By default, this annotation is specified for Windows kernel mode (driver) code. For more information about SAL annotations, see [Using SAL Annotations to Reduce C/C++ Code Defects](../vs140/using-sal-annotations-to-reduce-c-c---code-defects.md).  
  
## Example  
 The following code generates this warning because an exception could be thrown during the second allocation and thereby leak the first allocation, or an exception could be thrown somewhere in the code that's represented by the "<CodeContentPlaceHolder>4\</CodeContentPlaceHolder>" comment and thereby leak both allocations.  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
 To use the same allocation methods and correct this problem, add an exception handler:  
  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>  
 To avoid these kinds of potential leaks altogether, use the mechanisms that are provided by the C++ Standard Template Library (STL). These include [shared_ptr](../vs140/shared_ptr-class.md), [unique_ptr](../vs140/unique_ptr-class.md), and [vector](../vs140/-vector-.md). For more information, see [Smart Pointers (Modern C++)](../vs140/smart-pointers--modern-c---.md) and [Standard C++ Library Reference](../vs140/c---standard-library-reference.md).  
  
<CodeContentPlaceHolder>2\</CodeContentPlaceHolder>  
## See Also  
 [C++ Exception Handling](../vs140/c---exception-handling.md)