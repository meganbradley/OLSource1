---
title: "C6250"
ms.custom: na
ms.date: "09/22/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: na
ms.topic: "article"
f1_keywords: 
  - "C6250"
helpviewer_keywords: 
  - "C6250"
ms.assetid: 6949c9c5-e8bd-4f95-bc80-42073a293357
caps.latest.revision: 23
translation.priority.ht: 
  - "de-de"
  - "ja-jp"
---
# C6250
warning C6250: Calling \<function> VirtualFree without the MEM_RELEASE flag may free memory but not address descriptors (VADs); results in address space leaks  
  
 This warning indicates that a call to <CodeContentPlaceHolder>2\</CodeContentPlaceHolder> without the <CodeContentPlaceHolder>3\</CodeContentPlaceHolder> flag only decommits the pages, and does not release them. To decommit and release pages, use <CodeContentPlaceHolder>4\</CodeContentPlaceHolder> flag in call to <CodeContentPlaceHolder>5\</CodeContentPlaceHolder>. If any pages in the region are committed, the function first decommits and then releases them. After this operation, the pages are in the free state. If you specify this flag, <CodeContentPlaceHolder>6\</CodeContentPlaceHolder> must be zero, and <CodeContentPlaceHolder>7\</CodeContentPlaceHolder> must point to the base address returned by the <CodeContentPlaceHolder>8\</CodeContentPlaceHolder> function when the region was reserved. The function fails if either of these conditions is not met.  
  
 You can ignore this warning if your code later frees the address space by calling <CodeContentPlaceHolder>9\</CodeContentPlaceHolder> with the <CodeContentPlaceHolder>10\</CodeContentPlaceHolder> flag.  
  
 For more information see [VirtualAlloc](http://go.microsoft.com/fwlink/?LinkId=181201) and [VirtualFree](http://go.microsoft.com/fwlink/?LinkId=181202).  
  
 The use of VirtualAlloc and VirtualFree have many pitfalls in terms of memory leaks and exceptions. To avoid these kinds of leaks and exception problems altogether, use the mechanisms that are provided by the C++ Standard Template Library (STL). These include [shared_ptr](../vs140/shared_ptr-class.md), [unique_ptr](../vs140/unique_ptr-class.md), and [vector](../vs140/-vector-.md). For more information, see [Smart Pointers (Modern C++)](../vs140/smart-pointers--modern-c---.md) and [Standard C++ Library Reference](../vs140/c---standard-library-reference.md).  
  
## Example  
 The following sample code generates this warning:  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
 To correct this warning, use the following sample code:  
  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>