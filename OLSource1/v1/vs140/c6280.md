---
title: "C6280"
ms.custom: na
ms.date: "09/22/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: na
ms.topic: "article"
f1_keywords: 
  - "C6280"
helpviewer_keywords: 
  - "C6280"
ms.assetid: b91f2966-0876-4c9b-843a-e142f35be864
caps.latest.revision: 21
translation.priority.ht: 
  - "de-de"
  - "ja-jp"
---
# C6280
warning C6280: \<variable> is allocated with \<function>, but deleted with \<function>  
  
 This warning indicates that the calling function has inconsistently allocated memory by using a function from one memory allocation family and freed it by using a function from another memory allocation family. The analyzer checks for this condition only when the <CodeContentPlaceHolder>3\</CodeContentPlaceHolder> SAL annotation is specified. By default, this annotation is specified for Windows kernel mode (driver) code. For more information about SAL annotations, see [Using SAL Annotations to Reduce C/C++ Code Defects](../vs140/using-sal-annotations-to-reduce-c-c---code-defects.md).  
  
 For example, this warning would be produced if memory is allocated by using <CodeContentPlaceHolder>4\</CodeContentPlaceHolder> but freed by using <CodeContentPlaceHolder>5\</CodeContentPlaceHolder> or <CodeContentPlaceHolder>6\</CodeContentPlaceHolder>. In the specific cases of mismatches between array <CodeContentPlaceHolder>7\</CodeContentPlaceHolder> and scalar <CodeContentPlaceHolder>8\</CodeContentPlaceHolder>, more precise warnings are reported instead of this one.  
  
## Example  
 The following sample code generates this warning.  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
 To correct this warning, use this code:  
  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>  
 Different API definitions can use different heaps. For example, <CodeContentPlaceHolder>9\</CodeContentPlaceHolder> uses the system heap, and <CodeContentPlaceHolder>10\</CodeContentPlaceHolder> uses the process heap. This is likely to cause memory corruptions and crashes.  
  
 These inconsistencies apply to the <CodeContentPlaceHolder>11\</CodeContentPlaceHolder>/<CodeContentPlaceHolder>12\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>13\</CodeContentPlaceHolder>/<CodeContentPlaceHolder>14\</CodeContentPlaceHolder> memory allocation mechanisms. To avoid these kinds of potential inconsistencies altogether, use the mechanisms that are provided by the C++ Standard Template Library (STL). These include [shared_ptr](../vs140/shared_ptr-class.md), [unique_ptr](../vs140/unique_ptr-class.md), and [vector](../vs140/-vector-.md). For more information, see [Smart Pointers (Modern C++)](../vs140/smart-pointers--modern-c---.md) and [Standard C++ Library Reference](../vs140/c---standard-library-reference.md).  
  
<CodeContentPlaceHolder>2\</CodeContentPlaceHolder>  
## See Also  
 [calloc](../vs140/calloc.md)   
 [malloc](../vs140/malloc.md)   
 [free](../vs140/free.md)   
 [operator new](../vs140/operator-new---new--.md)   
 [operator delete](../vs140/delete-operator--c---.md)   
 [shared_ptr](../vs140/shared_ptr-class.md)   
 [unique_ptr](../vs140/unique_ptr-class.md)   
 [Smart Pointers (Modern C++)](../vs140/smart-pointers--modern-c---.md)