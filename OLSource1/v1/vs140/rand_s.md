---
title: "rand_s"
ms.custom: na
ms.date: "09/22/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: na
ms.topic: "article"
apiname: 
  - "rand_s"
apilocation: 
  - "msvcr110_clr0400.dll"
  - "msvcr110.dll"
  - "msvcr80.dll"
  - "msvcrt.dll"
  - "msvcr100.dll"
  - "msvcr120.dll"
  - "msvcr90.dll"
apitype: "DLLExport"
f1_keywords: 
  - "rand_s"
dev_langs: 
  - "C++"
  - "C"
helpviewer_keywords: 
  - "generating pseudorandom numbers"
  - "random numbers, cryptographically secure"
  - "random numbers, generating"
  - "rand_s function"
  - "numbers, pseudorandom"
  - "cryptographically secure random numbers"
  - "pseudorandom numbers"
  - "numbers, generating pseudorandom"
ms.assetid: d6a0be60-997d-4904-8411-8aea6839cc94
caps.latest.revision: 28
translation.priority.ht: 
  - "de-de"
  - "ja-jp"
---
# rand_s
Generates a pseudorandom number. A version of [rand](../vs140/rand.md) with security enhancements as described in [Security Enhancements in the CRT](../vs140/security-features-in-the-crt.md).  
  
## Syntax  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
## Return Value  
 Zero if successful, otherwise, an error code. If the input pointer <CodeContentPlaceHolder>4\</CodeContentPlaceHolder> is a null pointer, the function invokes an invalid parameter handler, as described in [Parameter Validation](../vs140/parameter-validation.md). If execution is allowed to continue, the function returns <CodeContentPlaceHolder>5\</CodeContentPlaceHolder> and sets <CodeContentPlaceHolder>6\</CodeContentPlaceHolder> to <CodeContentPlaceHolder>7\</CodeContentPlaceHolder>. If the function fails for any other reason, *<CodeContentPlaceHolder>8\</CodeContentPlaceHolder> is set to 0.  
  
## Remarks  
 The <CodeContentPlaceHolder>9\</CodeContentPlaceHolder> function writes a pseudorandom integer in the range 0 to <CodeContentPlaceHolder>10\</CodeContentPlaceHolder> to the input pointer. The <CodeContentPlaceHolder>11\</CodeContentPlaceHolder> function uses the operating system to generate cryptographically secure random numbers. It does not use the seed generated by the [srand](../vs140/srand.md) function, nor does it affect the random number sequence used by <CodeContentPlaceHolder>12\</CodeContentPlaceHolder>.  
  
 The <CodeContentPlaceHolder>13\</CodeContentPlaceHolder> function requires that constant <CodeContentPlaceHolder>14\</CodeContentPlaceHolder> be defined prior to the inclusion statement for the function to be declared, as in the following example:  
  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>  
 <CodeContentPlaceHolder>15\</CodeContentPlaceHolder> depends on the [RtlGenRandom](http://msdn.microsoft.com/library/windows/desktop/aa387694) API, which is only available in Windows XP and later.  
  
## Requirements  
  
|Routine|Required header|  
|-------------|---------------------|  
|<CodeContentPlaceHolder>16\</CodeContentPlaceHolder>|\<stdlib.h>|  
  
 For more information, see [Compatibility](../vs140/compatibility.md).  
  
## Example  
  
<CodeContentPlaceHolder>2\</CodeContentPlaceHolder>  
## Sample Output  
  
<CodeContentPlaceHolder>3\</CodeContentPlaceHolder>  
## .NET Framework Equivalent  
 [System::Random Class](https://msdn.microsoft.com/en-us/library/system.random.aspx)  
  
## See Also  
 [Floating-Point Support](../vs140/floating-point-support.md)   
 [srand](../vs140/srand.md)