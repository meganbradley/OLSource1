---
title: "Extension Methods (C# Programming Guide)"
ms.custom: na
ms.date: "09/22/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: na
ms.topic: "article"
dev_langs: 
  - "CSharp"
helpviewer_keywords: 
  - "methods [C#], adding to existing types"
  - "extension methods [C#]"
  - "methods [C#], extension"
ms.assetid: 175ce3ff-9bbf-4e64-8421-faeb81a0bb51
caps.latest.revision: 39
translation.priority.ht: 
  - "de-de"
  - "ja-jp"
---
# Extension Methods (C# Programming Guide)
Extension methods enable you to "add" methods to existing types without creating a new derived type, recompiling, or otherwise modifying the original type. Extension methods are a special kind of static method, but they are called as if they were instance methods on the extended type. For client code written in C# and Visual Basic, there is no apparent difference between calling an extension method and the methods that are actually defined in a type.  
  
 The most common extension methods are the [!INCLUDE[vbteclinq](../vs140/includes/vbteclinq_md.md)] standard query operators that add query functionality to the existing \<xref:System.Collections.IEnumerable?displayProperty=fullName> and <xref:System.Collections.Generic.IEnumerable<CodeContentPlaceHolder>3\</CodeContentPlaceHolder>using System.Linq<CodeContentPlaceHolder>4\</CodeContentPlaceHolder>1*> appears to have instance methods such as \<xref:System.Linq.Enumerable.GroupBy*>, \<xref:System.Linq.Enumerable.OrderBy*>, \<xref:System.Linq.Enumerable.Average*>, and so on. You can see these additional methods in IntelliSense statement completion when you type "dot" after an instance of an <xref:System.Collections.Generic.IEnumerable<CodeContentPlaceHolder>5\</CodeContentPlaceHolder>1*> or \<xref:System.Array*>.  
  
 The following example shows how to call the standard query operator <CodeContentPlaceHolder>6\</CodeContentPlaceHolder> method on an array of integers. The expression in parentheses is a lambda expression. Many standard query operators take lambda expressions as parameters, but this is not a requirement for extension methods. For more information, see [Lambda Expressions (C# Programming Guide)](../vs140/lambda-expressions--csharp-programming-guide-.md).  
  
 [!code[csProgGuideExtensionMethods#3](../vs140/codesnippet/CSharp/extension-methods--csharp-programming-guide-_1.cs)]  
  
 Extension methods are defined as static methods but are called by using instance method syntax. Their first parameter specifies which type the method operates on, and the parameter is preceded by the [this](../vs140/this--csharp-reference-.md) modifier. Extension methods are only in scope when you explicitly import the namespace into your source code with a <CodeContentPlaceHolder>7\</CodeContentPlaceHolder> directive.  
  
 The following example shows an extension method defined for the \<xref:System.String*?displayProperty=fullName> class. Note that it is defined inside a non-nested, non-generic static class:  
  
 [!code[csProgGuideExtensionMethods#4](../vs140/codesnippet/CSharp/extension-methods--csharp-programming-guide-_2.cs)]  
  
 The <CodeContentPlaceHolder>8\</CodeContentPlaceHolder> extension method can be brought into scope with this <CodeContentPlaceHolder>9\</CodeContentPlaceHolder> directive:  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
 And it can be called from an application by using this syntax:  
  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>  
 In your code you invoke the extension method with instance method syntax. However, the intermediate language (IL) generated by the compiler translates your code into a call on the static method. Therefore, the principle of encapsulation is not really being violated. In fact, extension methods cannot access private variables in the type they are extending.  
  
 For more information, see [How To: Implement and Call An Extension Method (C# Programming Guide)](../vs140/how-to--implement-and-call-a-custom-extension-method--csharp-programming-guide-.md).  
  
 In general, you will probably be calling extension methods far more often than implementing your own. Because extension methods are called by using instance method syntax, no special knowledge is required to use them from client code. To enable extension methods for a particular type, just add a <CodeContentPlaceHolder>10\</CodeContentPlaceHolder> directive for the namespace in which the methods are defined. For example, to use the standard query operators, add this <CodeContentPlaceHolder>11\</CodeContentPlaceHolder> directive to your code:  
  
<CodeContentPlaceHolder>2\</CodeContentPlaceHolder>  
 (You may also have to add a reference to System.Core.dll.) You will notice that the standard query operators now appear in IntelliSense as additional methods available for most <xref:System.Collections.Generic.IEnumerable<CodeContentPlaceHolder>12\</CodeContentPlaceHolder>Process(int i)<CodeContentPlaceHolder>13\</CodeContentPlaceHolder>Extensions<CodeContentPlaceHolder>14\</CodeContentPlaceHolder>IMyInterface<CodeContentPlaceHolder>15\</CodeContentPlaceHolder>A<CodeContentPlaceHolder>16\</CodeContentPlaceHolder>B<CodeContentPlaceHolder>17\</CodeContentPlaceHolder>C<CodeContentPlaceHolder>18\</CodeContentPlaceHolder>MethodB<CodeContentPlaceHolder>19\</CodeContentPlaceHolder>Extensions<CodeContentPlaceHolder>20\</CodeContentPlaceHolder>using Extensions;` directive.  
  
 For a class library that you implemented, you shouldn't use extension methods to avoid incrementing the version number of an assembly. If you want to add significant functionality to a library for which you own the source code, you should follow the standard .NET Framework guidelines for assembly versioning. For more information, see [Assembly Versioning](assetId:///775ad4fb-914f-453c-98ef-ce1089b6f903).  
  
## See Also  
 [C# Programming Guide](../vs140/csharp-programming-guide.md)   
 [Parallel Programming Samples (these include many example extension methods)](http://code.msdn.microsoft.com/Samples-for-Parallel-b4b76364)   
 [Lambda Expressions (C# Programming Guide)](../vs140/lambda-expressions--csharp-programming-guide-.md)   
 [Standard Query Operators Overview](../vs140/standard-query-operators-overview.md)   
 [Conversion rules for Instance parameters and their impact](http://go.microsoft.com/fwlink/?LinkId=112385)   
 [Extension methods Interoperability between languages](http://go.microsoft.com/fwlink/?LinkId=112386)   
 [Extension methods and Curried Delegates](http://go.microsoft.com/fwlink/?LinkId=112387)   
 [Extension method Binding and Error reporting](http://go.microsoft.com/fwlink/?LinkId=112388)