---
title: "_tempnam, _wtempnam, tmpnam, _wtmpnam"
ms.custom: na
ms.date: "09/22/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: na
ms.topic: "article"
apiname: 
  - "_wtempnam"
  - "_wtmpnam"
  - "tmpnam"
  - "_tempnam"
apilocation: 
  - "msvcr80.dll"
  - "msvcr90.dll"
  - "msvcrt.dll"
  - "msvcr110_clr0400.dll"
  - "msvcr100.dll"
  - "msvcr120.dll"
  - "msvcr110.dll"
apitype: "DLLExport"
f1_keywords: 
  - "wtempnam"
  - "_wtmpnam"
  - "wtmpnam"
  - "tmpnam"
  - "_wtempnam"
  - "_tempnam"
dev_langs: 
  - "C++"
  - "C"
helpviewer_keywords: 
  - "wtempnam function"
  - "file names [C++], creating temporary"
  - "_tempnam function"
  - "ttmpnam function"
  - "tmpnam function"
  - "tempnam function"
  - "wtmpnam function"
  - "temporary files, creating"
  - "file names [C++], temporary"
  - "_ttmpnam function"
  - "_wtmpnam function"
  - "_wtempnam function"
ms.assetid: 3ce75f0f-5e30-42a6-9791-8d7cbfe70fca
caps.latest.revision: 22
translation.priority.ht: 
  - "de-de"
  - "ja-jp"
---
# _tempnam, _wtempnam, tmpnam, _wtmpnam
Generate names you can use to create temporary files. More secure versions of some of these functions are available; see [tmpnam_s, _wtmpnam_s](../vs140/tmpnam_s--_wtmpnam_s.md).  
  
## Syntax  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
#### Parameters  
 <CodeContentPlaceHolder>2\</CodeContentPlaceHolder>  
 The string that will be pre-pended to names returned by <CodeContentPlaceHolder>3\</CodeContentPlaceHolder>.  
  
 <CodeContentPlaceHolder>4\</CodeContentPlaceHolder>  
 The path used in the file name if there is no TMP environment variable, or if TMP is not a valid directory.  
  
 <CodeContentPlaceHolder>5\</CodeContentPlaceHolder>  
 Pointer that will hold the generated name and will be identical to the name returned by the function. This is a convenient way to save the generated name.  
  
## Return Value  
 Each of these functions returns a pointer to the name generated or <CodeContentPlaceHolder>6\</CodeContentPlaceHolder> if there is a failure. Failure can occur if you attempt more than <CodeContentPlaceHolder>7\</CodeContentPlaceHolder> (see STDIO.H) calls with <CodeContentPlaceHolder>8\</CodeContentPlaceHolder> or if you use <CodeContentPlaceHolder>9\</CodeContentPlaceHolder>and there is an invalid directory name specified in the TMP environment variable and in the <CodeContentPlaceHolder>10\</CodeContentPlaceHolder> parameter.  
  
> [!NOTE]
>  The pointers returned by <CodeContentPlaceHolder>11\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>12\</CodeContentPlaceHolder> point to internal static buffers. [free](../vs140/free.md) should not be called to deallocate those pointers. <CodeContentPlaceHolder>13\</CodeContentPlaceHolder> needs to be called for pointers allocated by <CodeContentPlaceHolder>14\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>15\</CodeContentPlaceHolder>.  
  
## Remarks  
 Each of these functions returns the name of a file that does not currently exist. <CodeContentPlaceHolder>16\</CodeContentPlaceHolder> returns a name unique in the current working directory and <CodeContentPlaceHolder>17\</CodeContentPlaceHolder> lets you generate a unique name in a directory other than the current one. Note than when a file name is pre-pended with a backslash and no path information, such as \fname21, this indicates that the name is valid for the current working directory.  
  
 For <CodeContentPlaceHolder>18\</CodeContentPlaceHolder>, you can store this generated file name in <CodeContentPlaceHolder>19\</CodeContentPlaceHolder>. If <CodeContentPlaceHolder>20\</CodeContentPlaceHolder> is <CodeContentPlaceHolder>21\</CodeContentPlaceHolder>, then <CodeContentPlaceHolder>22\</CodeContentPlaceHolder> leaves the result in an internal static buffer. Thus any subsequent calls destroy this value. The name generated by <CodeContentPlaceHolder>23\</CodeContentPlaceHolder> consists of a program-generated file name and, after the first call to <CodeContentPlaceHolder>24\</CodeContentPlaceHolder>, a file extension of sequential numbers in base 32 (.1-.vvu, when <CodeContentPlaceHolder>25\</CodeContentPlaceHolder> in STDIO.H is 32,767).  
  
 <CodeContentPlaceHolder>26\</CodeContentPlaceHolder> will generate a unique file name for a directory chosen by the following rules:  
  
-   If the TMP environment variable is defined and set to a valid directory name, unique file names will be generated for the directory specified by TMP.  
  
-   If the TMP environment variable is not defined or if it is set to the name of a directory that does not exist, <CodeContentPlaceHolder>27\</CodeContentPlaceHolder> will use the <CodeContentPlaceHolder>28\</CodeContentPlaceHolder> parameter as the path for which it will generate unique names.  
  
-   If the TMP environment variable is not defined or if it is set to the name of a directory that does not exist, and if <CodeContentPlaceHolder>29\</CodeContentPlaceHolder> is either <CodeContentPlaceHolder>30\</CodeContentPlaceHolder> or set to the name of a directory that does not exist, <CodeContentPlaceHolder>31\</CodeContentPlaceHolder> will use the current working directory to generate unique names. Currently, if both TMP and <CodeContentPlaceHolder>32\</CodeContentPlaceHolder> specify names of directories that do not exist, the <CodeContentPlaceHolder>33\</CodeContentPlaceHolder> function call will fail.  
  
 The name returned by <CodeContentPlaceHolder>34\</CodeContentPlaceHolder> will be a concatenation of <CodeContentPlaceHolder>35\</CodeContentPlaceHolder> and a sequential number, which will combine to create a unique file name for the specified directory. <CodeContentPlaceHolder>36\</CodeContentPlaceHolder> generates file names that have no extension. <CodeContentPlaceHolder>37\</CodeContentPlaceHolder> uses [malloc](../vs140/malloc.md) to allocate space for the filename; the program is responsible for freeing this space when it is no longer needed.  
  
 <CodeContentPlaceHolder>38\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>39\</CodeContentPlaceHolder> automatically handle multibyte-character string arguments as appropriate, recognizing multibyte-character sequences according to the OEM code page obtained from the operating system. <CodeContentPlaceHolder>40\</CodeContentPlaceHolder> is a wide-character version of <CodeContentPlaceHolder>41\</CodeContentPlaceHolder>; the arguments and return value of <CodeContentPlaceHolder>42\</CodeContentPlaceHolder> are wide-character strings. <CodeContentPlaceHolder>43\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>44\</CodeContentPlaceHolder> behave identically except that <CodeContentPlaceHolder>45\</CodeContentPlaceHolder> does not handle multibyte-character strings. <CodeContentPlaceHolder>46\</CodeContentPlaceHolder> is a wide-character version of <CodeContentPlaceHolder>47\</CodeContentPlaceHolder>; the argument and return value of <CodeContentPlaceHolder>48\</CodeContentPlaceHolder> are wide-character strings. <CodeContentPlaceHolder>49\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>50\</CodeContentPlaceHolder> behave identically except that <CodeContentPlaceHolder>51\</CodeContentPlaceHolder> does not handle multibyte-character strings.  
  
 If <CodeContentPlaceHolder>52\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>53\</CodeContentPlaceHolder> are defined, <CodeContentPlaceHolder>54\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>55\</CodeContentPlaceHolder> are replaced by calls to [_tempnam_dbg and _wtempnam_dbg](../vs140/_tempnam_dbg--_wtempnam_dbg.md).  
  
### Generic-Text Routine Mappings  
  
|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  
|---------------------|------------------------------------|--------------------|-----------------------|  
|<CodeContentPlaceHolder>56\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>57\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>58\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>59\</CodeContentPlaceHolder>|  
|<CodeContentPlaceHolder>60\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>61\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>62\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>63\</CodeContentPlaceHolder>|  
  
## Requirements  
  
|Routine|Required header|  
|-------------|---------------------|  
|<CodeContentPlaceHolder>64\</CodeContentPlaceHolder>|\<stdio.h>|  
|<CodeContentPlaceHolder>65\</CodeContentPlaceHolder>, <CodeContentPlaceHolder>66\</CodeContentPlaceHolder>|\<stdio.h> or \<wchar.h>|  
|<CodeContentPlaceHolder>67\</CodeContentPlaceHolder>|\<stdio.h>|  
  
 For additional compatibility information, see [Compatibility](../vs140/compatibility.md) in the Introduction.  
  
## Example  
  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>  
 **\s1gk. is safe to use as a temporary file.**  
**C:\DOCUME~1\user\LOCALS~1\Temp\2\stq2 is safe to use as a temporary file.**   
## .NET Framework Equivalent  
 Not applicable. To call the standard C function, use <CodeContentPlaceHolder>68\</CodeContentPlaceHolder>. For more information, see [Platform Invoke Examples](assetId:///15926806-f0b7-487e-93a6-4e9367ec689f).  
  
## See Also  
 [Stream I/O](../vs140/stream-i-o.md)   
 [_getmbcp](../vs140/_getmbcp.md)   
 [malloc](../vs140/malloc.md)   
 [_setmbcp](../vs140/_setmbcp.md)   
 [tmpfile](../vs140/tmpfile.md)   
 [tmpfile_s](../vs140/tmpfile_s.md)