---
title: "2.6.4 atomic Construct"
ms.custom: na
ms.date: "09/22/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: na
ms.topic: "article"
dev_langs: 
  - "C++"
ms.assetid: e4232ef1-4058-42ce-9de0-0ca788312aba
caps.latest.revision: 10
translation.priority.ht: 
  - "de-de"
  - "ja-jp"
---
# 2.6.4 atomic Construct
The <CodeContentPlaceHolder>2\</CodeContentPlaceHolder> directive ensures that a specific memory location is updated atomically, rather than exposing it to the possibility of multiple, simultaneous writing threads. The syntax of the <CodeContentPlaceHolder>3\</CodeContentPlaceHolder> directive is as follows:  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
 The expression statement must have one of the following forms:  
  
 *x binop*= *expr*  
  
 x++  
  
 ++x  
  
 x--  
  
 --x  
  
 In the preceding expressions:  
  
-   *x* is an lvalue expression with scalar type.  
  
-   *expr* is an expression with scalar type, and it does not reference the object designated by *x*.  
  
-   <CodeContentPlaceHolder>4\</CodeContentPlaceHolder> is not an overloaded operator and is one of  +, *, -, /, &, ^, &#124;, <\<, or   >>.  
  
 Although it is implementation-defined whether an implementation replaces all <CodeContentPlaceHolder>5\</CodeContentPlaceHolder> directives with **critical** directives that have the same unique *name*, the <CodeContentPlaceHolder>6\</CodeContentPlaceHolder> directive permits better optimization. Often hardware instructions are available that can perform the atomic update with the least overhead.  
  
 Only the load and store of the object designated by *x* are atomic; the evaluation of *expr* is not atomic. To avoid race conditions, all updates of the location in parallel should be protected with the <CodeContentPlaceHolder>7\</CodeContentPlaceHolder> directive, except those that are known to be free of race conditions.  
  
 Restrictions to the <CodeContentPlaceHolder>8\</CodeContentPlaceHolder> directive are as follows:  
  
-   All atomic references to the storage location x throughout the program are required to have a compatible type.  
  
## Examples:  
  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>