---
title: "How to: Create Unsigned Friend Assemblies (C#)"
ms.custom: na
ms.date: "09/22/2016"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: na
ms.topic: "article"
dev_langs: 
  - "CSharp"
ms.assetid: 78cbc4f0-b021-4141-a4ff-eb4edbd814ca
caps.latest.revision: 5
---
# How to: Create Unsigned Friend Assemblies (C#)
This example shows how to use friend assemblies with assemblies that are unsigned.  
  
### To create an assembly and a friend assembly  
  
1.  Open a command prompt.  
  
2.  Create a C# file named <CodeContentPlaceHolder>4\</CodeContentPlaceHolder> that contains the following code. The code uses the \<xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute*> attribute to declare friend_signed_B as a friend assembly.  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
3.  Compile and sign friend_signed_A by using the following command.  
  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>  
4.  Create a C# file named <CodeContentPlaceHolder>5\</CodeContentPlaceHolder> that contains the following code. Because friend_unsigned_A specifies friend_unsigned_B as a friend assembly, the code in friend_unsigned_B can access <CodeContentPlaceHolder>6\</CodeContentPlaceHolder> types and members from friend_unsigned_A.  
  
<CodeContentPlaceHolder>2\</CodeContentPlaceHolder>  
5.  Compile friend_signed_B by using the following command.  
  
<CodeContentPlaceHolder>3\</CodeContentPlaceHolder>  
     The name of the assembly that is generated by the compiler must match the friend assembly name that is passed to the \<xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute*> attribute. You must explicitly specify the name of the output assembly (.exe or .dll) by using the <CodeContentPlaceHolder>7\</CodeContentPlaceHolder> compiler option. For more information, see [/out (C# Compiler Options)](../vs140/-out--csharp-compiler-options-.md).  
  
6.  Run the friend_signed_B.exe file.  
  
     The program prints two strings: "Class1.Test" and "Class2.Test".  
  
## .NET Framework Security  
 There are similarities between the \<xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute*> attribute and the \<xref:System.Security.Permissions.StrongNameIdentityPermission*> class. The main difference is that \<xref:System.Security.Permissions.StrongNameIdentityPermission*> can demand security permissions to run a particular section of code, whereas the \<xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute*> attribute controls the visibility of <CodeContentPlaceHolder>8\</CodeContentPlaceHolder> types and members.  
  
## See Also  
 \<xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute*>   
 [Assemblies and the Global Assembly Cache (C#)](../vs140/assemblies-and-the-global-assembly-cache--csharp-.md)   
 [Friend Assemblies (C#)](../vs140/friend-assemblies--csharp-.md)   
 [How to: Create Signed Friend Assemblies (C#)](../vs140/how-to--create-signed-friend-assemblies--csharp-.md)   
 [C# Programming Guide](../vs140/csharp-programming-guide.md)