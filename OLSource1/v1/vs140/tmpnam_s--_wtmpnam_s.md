---
title: "tmpnam_s, _wtmpnam_s"
ms.custom: na
ms.date: "09/22/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: na
ms.topic: "article"
apiname: 
  - "tmpnam_s"
  - "_wtmpnam_s"
apilocation: 
  - "msvcrt.dll"
  - "msvcr90.dll"
  - "msvcr110_clr0400.dll"
  - "msvcr120.dll"
  - "msvcr100.dll"
  - "msvcr110.dll"
  - "msvcr80.dll"
apitype: "DLLExport"
f1_keywords: 
  - "tmpnam_s"
  - "_wtmpnam_s"
  - "L_tmpnam_s"
dev_langs: 
  - "C++"
  - "C"
helpviewer_keywords: 
  - "tmpnam_s function"
  - "file names [C++], creating temporary"
  - "_wtmpnam_s function"
  - "L_tmpnam_s constant"
  - "temporary files, creating"
  - "file names [C++], temporary"
  - "wtmpnam_s function"
ms.assetid: e70d76dc-49f5-4aee-bfa2-f1baa2bcd29f
caps.latest.revision: 24
translation.priority.ht: 
  - "de-de"
  - "ja-jp"
---
# tmpnam_s, _wtmpnam_s
Generate names you can use to create temporary files. These are versions of [tmpnam and _wtmpnam](../vs140/_tempnam--_wtempnam--tmpnam--_wtmpnam.md) with security enhancements as described in [Security Enhancements in the CRT](../vs140/security-features-in-the-crt.md).  
  
## Syntax  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
#### Parameters  
 [out] <CodeContentPlaceHolder>2\</CodeContentPlaceHolder>  
 Pointer that will hold the generated name.  
  
 [in] <CodeContentPlaceHolder>3\</CodeContentPlaceHolder>  
 The size of the buffer in characters.  
  
## Return Value  
 Both of these functions return 0 if successful or an error number on failure.  
  
### Error Conditions  
  
|||||  
|-|-|-|-|  
|<CodeContentPlaceHolder>4\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>5\</CodeContentPlaceHolder>|**Return Value**|**Contents of**  <CodeContentPlaceHolder>6\</CodeContentPlaceHolder>|  
|<CodeContentPlaceHolder>7\</CodeContentPlaceHolder>|any|<CodeContentPlaceHolder>8\</CodeContentPlaceHolder>|not modified|  
|not <CodeContentPlaceHolder>9\</CodeContentPlaceHolder> (points to valid memory)|too short|<CodeContentPlaceHolder>10\</CodeContentPlaceHolder>|not modified|  
  
 If <CodeContentPlaceHolder>11\</CodeContentPlaceHolder> is <CodeContentPlaceHolder>12\</CodeContentPlaceHolder>, the invalid parameter handler is invoked, as described in [Parameter Validation](../vs140/parameter-validation.md). If execution is allowed to continue, these functions set <CodeContentPlaceHolder>13\</CodeContentPlaceHolder> to <CodeContentPlaceHolder>14\</CodeContentPlaceHolder> and return <CodeContentPlaceHolder>15\</CodeContentPlaceHolder>.  
  
## Remarks  
 Each of these functions returns the name of a file that does not currently exist. <CodeContentPlaceHolder>16\</CodeContentPlaceHolder> returns a name unique in the current working directory. Note than when a file name is pre-pended with a backslash and no path information, such as \fname21, this indicates that the name is valid for the current working directory.  
  
 For <CodeContentPlaceHolder>17\</CodeContentPlaceHolder>, you can store this generated file name in <CodeContentPlaceHolder>18\</CodeContentPlaceHolder>. The maximum length of a string returned by <CodeContentPlaceHolder>19\</CodeContentPlaceHolder> is <CodeContentPlaceHolder>20\</CodeContentPlaceHolder>, defined in STDIO.H. If <CodeContentPlaceHolder>21\</CodeContentPlaceHolder> is <CodeContentPlaceHolder>22\</CodeContentPlaceHolder>, then <CodeContentPlaceHolder>23\</CodeContentPlaceHolder> leaves the result in an internal static buffer. Thus any subsequent calls destroy this value. The name generated by <CodeContentPlaceHolder>24\</CodeContentPlaceHolder> consists of a program-generated file name and, after the first call to <CodeContentPlaceHolder>25\</CodeContentPlaceHolder>, a file extension of sequential numbers in base 32 (.1-.1vvvvvu, when <CodeContentPlaceHolder>26\</CodeContentPlaceHolder> in STDIO.H is INT_MAX).  
  
 <CodeContentPlaceHolder>27\</CodeContentPlaceHolder> automatically handles multibyte-character string arguments as appropriate, recognizing multibyte-character sequences according to the OEM code page obtained from the operating system. <CodeContentPlaceHolder>28\</CodeContentPlaceHolder> is a wide-character version of <CodeContentPlaceHolder>29\</CodeContentPlaceHolder>; the argument and return value of <CodeContentPlaceHolder>30\</CodeContentPlaceHolder> are wide-character strings. <CodeContentPlaceHolder>31\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>32\</CodeContentPlaceHolder> behave identically except that <CodeContentPlaceHolder>33\</CodeContentPlaceHolder> does not handle multibyte-character strings.  
  
 In C++, using these functions is simplified by template overloads; the overloads can infer buffer length automatically, eliminating the need to specify a size argument. For more information, see [Secure Template Overloads](../vs140/secure-template-overloads.md).  
  
### Generic-Text Routine Mappings  
  
|TCHAR.H routine|_UNICODE & _MBCS not defined|_MBCS defined|_UNICODE defined|  
|---------------------|------------------------------------|--------------------|-----------------------|  
|<CodeContentPlaceHolder>34\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>35\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>36\</CodeContentPlaceHolder>|<CodeContentPlaceHolder>37\</CodeContentPlaceHolder>|  
  
## Requirements  
  
|Routine|Required header|  
|-------------|---------------------|  
|<CodeContentPlaceHolder>38\</CodeContentPlaceHolder>|\<stdio.h>|  
|<CodeContentPlaceHolder>39\</CodeContentPlaceHolder>|\<stdio.h> or \<wchar.h>|  
  
 For additional compatibility information, see [Compatibility](../vs140/compatibility.md) in the Introduction.  
  
## Example  
  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>  
## .NET Framework Equivalent  
 Not applicable. To call the standard C function, use <CodeContentPlaceHolder>40\</CodeContentPlaceHolder>. For more information, see [Platform Invoke Examples](assetId:///15926806-f0b7-487e-93a6-4e9367ec689f).  
  
## See Also  
 [Stream I/O](../vs140/stream-i-o.md)   
 [_getmbcp](../vs140/_getmbcp.md)   
 [malloc](../vs140/malloc.md)   
 [_setmbcp](../vs140/_setmbcp.md)   
 [tmpfile_s](../vs140/tmpfile_s.md)