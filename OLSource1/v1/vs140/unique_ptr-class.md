---
title: "unique_ptr Class"
ms.custom: na
ms.date: "09/22/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: na
ms.suite: na
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: na
ms.topic: "article"
f1_keywords: 
  - "unique_ptr"
  - "std.unique_ptr"
  - "std::unique_ptr"
  - "memory/std::unique_ptr"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "unique_ptr class"
ms.assetid: acdf046b-831e-4a4a-83aa-6d4ee467db9a
caps.latest.revision: 22
translation.priority.ht: 
  - "de-de"
  - "ja-jp"
---
# unique_ptr Class
Stores a pointer to an owned object or array. The object/array is owned by no other <CodeContentPlaceHolder>14\</CodeContentPlaceHolder>. The object/array is destroyed when the <CodeContentPlaceHolder>15\</CodeContentPlaceHolder> is destroyed.  
  
## Syntax  
  
<CodeContentPlaceHolder>0\</CodeContentPlaceHolder>  
<CodeContentPlaceHolder>1\</CodeContentPlaceHolder>  
#### Parameters  
 <CodeContentPlaceHolder>16\</CodeContentPlaceHolder>  
 A <CodeContentPlaceHolder>17\</CodeContentPlaceHolder>.  
  
 <CodeContentPlaceHolder>18\</CodeContentPlaceHolder>  
 An <CodeContentPlaceHolder>19\</CodeContentPlaceHolder> of type <CodeContentPlaceHolder>20\</CodeContentPlaceHolder>.  
  
 <CodeContentPlaceHolder>21\</CodeContentPlaceHolder>  
 A <CodeContentPlaceHolder>22\</CodeContentPlaceHolder>.  
  
 <CodeContentPlaceHolder>23\</CodeContentPlaceHolder>  
 A <CodeContentPlaceHolder>24\</CodeContentPlaceHolder> function that is bound to a <CodeContentPlaceHolder>25\</CodeContentPlaceHolder>.  
  
## Exceptions  
 No exceptions are generated by <CodeContentPlaceHolder>26\</CodeContentPlaceHolder>.  
  
## Remarks  
 The <CodeContentPlaceHolder>27\</CodeContentPlaceHolder> class supersedes <CodeContentPlaceHolder>28\</CodeContentPlaceHolder>, and can be used as an element of STL containers.  
  
 Use the [make_unique](../vs140/-memory--functions.md#make_unique) helper function to efficiently create new instances of <CodeContentPlaceHolder>29\</CodeContentPlaceHolder>.  
  
 <CodeContentPlaceHolder>30\</CodeContentPlaceHolder> uniquely manages a resource. Each <CodeContentPlaceHolder>31\</CodeContentPlaceHolder> object stores a pointer to the object that it owns or stores a null pointer. A resource can be owned by no more than one <CodeContentPlaceHolder>32\</CodeContentPlaceHolder> object;  when a <CodeContentPlaceHolder>33\</CodeContentPlaceHolder> object that owns a particular resource is destroyed, the resource is freed. A <CodeContentPlaceHolder>34\</CodeContentPlaceHolder> object may be moved, but not copied;  for more information, see [Rvalue Reference Declarator](../vs140/rvalue-reference-declarator----.md).  
  
 The resource is freed by calling a stored <CodeContentPlaceHolder>35\</CodeContentPlaceHolder> object of type <CodeContentPlaceHolder>36\</CodeContentPlaceHolder> that knows how resources are allocated for a particular <CodeContentPlaceHolder>37\</CodeContentPlaceHolder>. The default <CodeContentPlaceHolder>38\</CodeContentPlaceHolder> assumes that the resource pointed to by <CodeContentPlaceHolder>39\</CodeContentPlaceHolder> is allocated with <CodeContentPlaceHolder>40\</CodeContentPlaceHolder>, and that it can be freed by calling <CodeContentPlaceHolder>41\</CodeContentPlaceHolder>. (A partial specialization <CodeContentPlaceHolder>42\</CodeContentPlaceHolder>manages array objects allocated with <CodeContentPlaceHolder>43\</CodeContentPlaceHolder>, and has the default <CodeContentPlaceHolder>44\</CodeContentPlaceHolder>, specialized to call delete[] <CodeContentPlaceHolder>45\</CodeContentPlaceHolder>.)  
  
 The stored pointer to an owned resource, <CodeContentPlaceHolder>46\</CodeContentPlaceHolder> has type <CodeContentPlaceHolder>47\</CodeContentPlaceHolder>. It is <CodeContentPlaceHolder>48\</CodeContentPlaceHolder> if defined, and <CodeContentPlaceHolder>49\</CodeContentPlaceHolder> if not. The stored <CodeContentPlaceHolder>50\</CodeContentPlaceHolder> object <CodeContentPlaceHolder>51\</CodeContentPlaceHolder> occupies no space in the object if the <CodeContentPlaceHolder>52\</CodeContentPlaceHolder> is stateless. Note that <CodeContentPlaceHolder>53\</CodeContentPlaceHolder> can be a reference type.  
  
## Members  
  
### Constructors  
  
|||  
|-|-|  
|[unique_ptr](#unique_ptr__unique_ptr)|There are seven constructors for <CodeContentPlaceHolder>54\</CodeContentPlaceHolder>.|  
  
### Typedefs  
  
|||  
|-|-|  
|[deleter_type](#deleter_type)|A synonym for the template parameter <CodeContentPlaceHolder>55\</CodeContentPlaceHolder>.|  
|[element_type](#element_type)|A synonym for the template parameter <CodeContentPlaceHolder>56\</CodeContentPlaceHolder>|  
|[pointer](#pointer)|A synonym for <CodeContentPlaceHolder>57\</CodeContentPlaceHolder> if defined, otherwise <CodeContentPlaceHolder>58\</CodeContentPlaceHolder>.|  
  
### Member Functions  
  
|||  
|-|-|  
|[get](#unique_ptr__get)|Returns <CodeContentPlaceHolder>59\</CodeContentPlaceHolder>.|  
|[get_deleter](#unique_ptr__get_deleter)|Returns a reference to <CodeContentPlaceHolder>60\</CodeContentPlaceHolder>.|  
|[release](#unique_ptr__release)|stores <CodeContentPlaceHolder>61\</CodeContentPlaceHolder> in <CodeContentPlaceHolder>62\</CodeContentPlaceHolder> and returns its previous contents.|  
|[reset](#unique_ptr__reset)|Releases the currently owned resource and accepts a new resource.|  
|[swap](#unique_ptr__swap)|Exchanges resource and <CodeContentPlaceHolder>63\</CodeContentPlaceHolder> with the provided <CodeContentPlaceHolder>64\</CodeContentPlaceHolder>.|  
  
### Operators  
  
|||  
|-|-|  
|<CodeContentPlaceHolder>65\</CodeContentPlaceHolder>|The operator returns a value of a type that is convertible to <CodeContentPlaceHolder>66\</CodeContentPlaceHolder>. The result of the conversion to <CodeContentPlaceHolder>67\</CodeContentPlaceHolder> is <CodeContentPlaceHolder>68\</CodeContentPlaceHolder> when <CodeContentPlaceHolder>69\</CodeContentPlaceHolder>, otherwise <CodeContentPlaceHolder>70\</CodeContentPlaceHolder>.|  
|<CodeContentPlaceHolder>71\</CodeContentPlaceHolder>|The member function returns <CodeContentPlaceHolder>72\</CodeContentPlaceHolder>|  
|<CodeContentPlaceHolder>73\</CodeContentPlaceHolder>|The member function returns* <CodeContentPlaceHolder>74\</CodeContentPlaceHolder>|  
|[operator=](#unique_ptr_operator_eq)|Assigns the value of a <CodeContentPlaceHolder>75\</CodeContentPlaceHolder> (or a <CodeContentPlaceHolder>76\</CodeContentPlaceHolder>) to the current <CodeContentPlaceHolder>77\</CodeContentPlaceHolder>.|  
  
## Requirements  
 **Header:** \<memory>  
  
 **Namespace:** std  
  
##  \<a name="deleter_type">\</a>  deleter_type  
 The type is a synonym for the template parameter <CodeContentPlaceHolder>78\</CodeContentPlaceHolder>.  
  
<CodeContentPlaceHolder>2\</CodeContentPlaceHolder>  
### Remarks  
 The type is a synonym for the template parameter <CodeContentPlaceHolder>79\</CodeContentPlaceHolder>.  
  
##  \<a name="element_type">\</a>  element_type  
 The type is a synonym for the template parameter <CodeContentPlaceHolder>80\</CodeContentPlaceHolder>.  
  
<CodeContentPlaceHolder>3\</CodeContentPlaceHolder>  
### Remarks  
 The type is a synonym for the template parameter <CodeContentPlaceHolder>81\</CodeContentPlaceHolder>.  
  
##  \<a name="unique_ptr__get">\</a>  unique_ptr::get  
 Returns <CodeContentPlaceHolder>82\</CodeContentPlaceHolder>.  
  
<CodeContentPlaceHolder>4\</CodeContentPlaceHolder>  
### Remarks  
 The member function returns <CodeContentPlaceHolder>83\</CodeContentPlaceHolder>.  
  
##  \<a name="unique_ptr__get_deleter">\</a>  unique_ptr::get_deleter  
 Returns a reference to <CodeContentPlaceHolder>84\</CodeContentPlaceHolder>.  
  
<CodeContentPlaceHolder>5\</CodeContentPlaceHolder>  
### Remarks  
 The member function returns a reference to <CodeContentPlaceHolder>85\</CodeContentPlaceHolder>.  
  
##  \<a name="unique_ptr_operator_eq">\</a>  unique_ptr operator=  
 Assigns the address of the provided <CodeContentPlaceHolder>86\</CodeContentPlaceHolder> to the current one.  
  
<CodeContentPlaceHolder>6\</CodeContentPlaceHolder>  
### Parameters  
 A <CodeContentPlaceHolder>87\</CodeContentPlaceHolder> reference used to assign the value of to the current <CodeContentPlaceHolder>88\</CodeContentPlaceHolder>.  
  
### Remarks  
 The member functions call <CodeContentPlaceHolder>89\</CodeContentPlaceHolder> and move <CodeContentPlaceHolder>90\</CodeContentPlaceHolder> to <CodeContentPlaceHolder>91\</CodeContentPlaceHolder>, then return <CodeContentPlaceHolder>92\</CodeContentPlaceHolder>.  
  
##  \<a name="pointer">\</a>  pointer  
 A synonym for <CodeContentPlaceHolder>93\</CodeContentPlaceHolder> if defined, otherwise <CodeContentPlaceHolder>94\</CodeContentPlaceHolder>.  
  
<CodeContentPlaceHolder>7\</CodeContentPlaceHolder>  
### Remarks  
 The type is a synonym for <CodeContentPlaceHolder>95\</CodeContentPlaceHolder> if defined, otherwise <CodeContentPlaceHolder>96\</CodeContentPlaceHolder>.  
  
##  \<a name="unique_ptr__release">\</a>  unique_ptr::release  
 Releases ownership of the returned stored pointer to the caller and sets the stored pointer value to <CodeContentPlaceHolder>97\</CodeContentPlaceHolder>.  
  
<CodeContentPlaceHolder>8\</CodeContentPlaceHolder>  
### Remarks  
 Use <CodeContentPlaceHolder>98\</CodeContentPlaceHolder> to take over ownership of the raw pointer stored by the <CodeContentPlaceHolder>99\</CodeContentPlaceHolder>. The caller is responsible for deletion of the returned pointer. The <CodeContentPlaceHolder>100\</CodeContentPlaceHolder> is set to the empty default-constructed state. You can assign another pointer of compatible type to the <CodeContentPlaceHolder>101\</CodeContentPlaceHolder> after the call to <CodeContentPlaceHolder>102\</CodeContentPlaceHolder>.  
  
### Example  
  This example shows how the caller of release is responsible for the object returned:  
  
<CodeContentPlaceHolder>9\</CodeContentPlaceHolder>  
  Computer output:  
  
 **Constructing Sample(3)**  
**Constructing Sample(42)**  
**Deleting Sample(42)**  
**Deleting Sample(3)**    
##  \<a name="unique_ptr__reset">\</a>  unique_ptr::reset  
 Takes ownership of the pointer parameter, and then deletes the original stored pointer. If the new pointer is the same as the original stored pointer, <CodeContentPlaceHolder>103\</CodeContentPlaceHolder> deletes the pointer and sets the stored pointer to <CodeContentPlaceHolder>104\</CodeContentPlaceHolder>.  
  
<CodeContentPlaceHolder>10\</CodeContentPlaceHolder>  
### Parameters  
  
|Parameter|Description|  
|---------------|-----------------|  
|<CodeContentPlaceHolder>105\</CodeContentPlaceHolder>|A pointer to the resource to take ownership of.|  
  
### Remarks  
 Use <CodeContentPlaceHolder>106\</CodeContentPlaceHolder> to change the stored [pointer](#pointer) owned by the <CodeContentPlaceHolder>107\</CodeContentPlaceHolder> to <CodeContentPlaceHolder>108\</CodeContentPlaceHolder> and then delete the original stored pointer. If the <CodeContentPlaceHolder>109\</CodeContentPlaceHolder> was not empty, <CodeContentPlaceHolder>110\</CodeContentPlaceHolder> invokes the deleter function returned by [get_deleter](#unique_ptr__get_deleter) on the original stored pointer.  
  
 Because <CodeContentPlaceHolder>111\</CodeContentPlaceHolder> first stores the new pointer <CodeContentPlaceHolder>112\</CodeContentPlaceHolder>, and then deletes the original stored pointer, it's possible for <CodeContentPlaceHolder>113\</CodeContentPlaceHolder> to immediately delete <CodeContentPlaceHolder>114\</CodeContentPlaceHolder> if it is the same as the original stored pointer.  
  
##  \<a name="unique_ptr__swap">\</a>  unique_ptr::swap  
 Exchanges pointers between two <CodeContentPlaceHolder>115\</CodeContentPlaceHolder> objects.  
  
<CodeContentPlaceHolder>11\</CodeContentPlaceHolder>  
### Parameters  
 <CodeContentPlaceHolder>116\</CodeContentPlaceHolder>  
 A <CodeContentPlaceHolder>117\</CodeContentPlaceHolder> used to swap pointers.  
  
### Remarks  
 The member function swaps <CodeContentPlaceHolder>118\</CodeContentPlaceHolder> with <CodeContentPlaceHolder>119\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>120\</CodeContentPlaceHolder> with <CodeContentPlaceHolder>121\</CodeContentPlaceHolder>.  
  
##  \<a name="unique_ptr__unique_ptr">\</a>  unique_ptr::unique_ptr  
 There are seven constructors for <CodeContentPlaceHolder>122\</CodeContentPlaceHolder>.  
  
<CodeContentPlaceHolder>12\</CodeContentPlaceHolder>  
### Parameters  
  
|Parameter|Description|  
|---------------|-----------------|  
|<CodeContentPlaceHolder>123\</CodeContentPlaceHolder>|A pointer to the resource to be assigned to a <CodeContentPlaceHolder>124\</CodeContentPlaceHolder>|  
|<CodeContentPlaceHolder>125\</CodeContentPlaceHolder>|A <CodeContentPlaceHolder>126\</CodeContentPlaceHolder> to be assigned to a <CodeContentPlaceHolder>127\</CodeContentPlaceHolder>.|  
|<CodeContentPlaceHolder>128\</CodeContentPlaceHolder>|An <CodeContentPlaceHolder>129\</CodeContentPlaceHolder> to a <CodeContentPlaceHolder>130\</CodeContentPlaceHolder> from which <CodeContentPlaceHolder>131\</CodeContentPlaceHolder> fields are move assigned to the newly constructed <CodeContentPlaceHolder>132\</CodeContentPlaceHolder>.|  
  
### Remarks  
 The first two constructors construct an object that manages no resource. The third constructor stores <CodeContentPlaceHolder>133\</CodeContentPlaceHolder> in <CodeContentPlaceHolder>134\</CodeContentPlaceHolder>. The fourth constructor stores <CodeContentPlaceHolder>135\</CodeContentPlaceHolder> in <CodeContentPlaceHolder>136\</CodeContentPlaceHolder> and <CodeContentPlaceHolder>137\</CodeContentPlaceHolder> in <CodeContentPlaceHolder>138\</CodeContentPlaceHolder>.  
  
 The fifth constructor stores <CodeContentPlaceHolder>139\</CodeContentPlaceHolder> in <CodeContentPlaceHolder>140\</CodeContentPlaceHolder> and moves <CodeContentPlaceHolder>141\</CodeContentPlaceHolder> into <CodeContentPlaceHolder>142\</CodeContentPlaceHolder>. The sixth and seventh constructors store <CodeContentPlaceHolder>143\</CodeContentPlaceHolder> in <CodeContentPlaceHolder>144\</CodeContentPlaceHolder> and moves <CodeContentPlaceHolder>145\</CodeContentPlaceHolder> into <CodeContentPlaceHolder>146\</CodeContentPlaceHolder>.  
  
##  \<a name="unique_ptr__dtorunique_ptr">\</a>  unique_ptr ~unique_ptr  
 The destructor for <CodeContentPlaceHolder>147\</CodeContentPlaceHolder>, destroys a <CodeContentPlaceHolder>148\</CodeContentPlaceHolder> object.  
  
<CodeContentPlaceHolder>13\</CodeContentPlaceHolder>  
### Remarks  
 The destructor calls <CodeContentPlaceHolder>149\</CodeContentPlaceHolder>.  
  
## See Also  
 [\<memory>](../vs140/-memory-.md)